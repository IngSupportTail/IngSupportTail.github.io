<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" charset="utf-8"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Estilo para el texto flotante */
        .box-input {
            position: relative;
            margin-bottom: 30px;
        }
        .box-input input {
            width: 100%;
            padding: 10px;
            padding-top: 20px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .box-input span {
            position: absolute;
            top: 0;
            left: 10px;
            padding-left: 5px;
            font-size: 16px;
            color: #aaa;
            transition: 0.3s;
        }
        .box-input input:focus ~ span,
        .box-input input:not(:focus):valid ~ span {
            top: -18px;
            font-size: 12px;
            color: #007bff;
        }
    </style>
</head>
<body>

    <div class="container">
        <img src="/Images/pechugon-header.png" class="img-thumbnail" alt="header">
    </div>
    <form action="https://formspree.io/f/mjkvdndj" method="POST">
        <div id="alertaExito" class="alert alert-success alert-dismissible fade show" role="alert" style="display: none;">
            <strong>¡Éxito!</strong> La solicitud fue enviada correctamente.
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>

        <h1 class="text-center">Bienvenido a PECHUSOLICITUD</h1>
        <div class="container mt-5">
            <label for="formSelect" class="form-label">Selecciona tu Pechusolicitud</label>
            <select class="form-select" id="formSelect" aria-label="Selecciona el Formulario">
                <option selected>Click aqui</option>
                <option value="1">Pechusolicitud Paquete/Boton nuevo</option>
                <option value="2">Pechusolicitud para un nuevo usuario</option>
                <option value="3">Proximamente!</option>
            </select>

            <!-- Contenedor para la opción 1 -->
            <div id="container1" class="mt-3 container" style="display:none;">
                <h3>Solicitud para un paquete/boton nuevo</h3>
                <!-- Campos del formulario -->
                <div class="box-input">
                    <input name="solicita" id="solicita" type="text" required>
                    <span data-placeholder="Escribe tu nombre"></span>
                </div>

                <!-- Checkbox para "El producto estará siempre disponible" -->
                <div class="container">
                    <div class="mb-3">
                        <label for="formGroupExampleInput" class="form-label">¿El producto estará siempre disponible?</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckSi" onclick="toggleContainer()">
                        <label class="form-check-label" for="flexCheckSi">
                            No
                        </label>
                    </div>
                </div>

                <!-- Contenedor que contiene el campo de texto y los botones -->
                <div id="containerContent" style="display:none;">
                    <div id="inputDiv">
                        <input type="text" class="form-control" id="fechadisponible" placeholder="Indica qué fechas estará disponible">
                    </div>

                    <div class="d-grid gap-2 d-md-block">
                        <button class="btn btn-outline-dark" type="button" id="lunes" onclick="toggleSelection('lunes')">Lunes</button>
                        <button class="btn btn-outline-dark" type="button" id="martes" onclick="toggleSelection('martes')">Martes</button>
                        <button class="btn btn-outline-dark" type="button" id="miercoles" onclick="toggleSelection('miercoles')">Miércoles</button>
                        <button class="btn btn-outline-dark" type="button" id="jueves" onclick="toggleSelection('jueves')">Jueves</button>
                        <button class="btn btn-outline-dark" type="button" id="viernes" onclick="toggleSelection('viernes')">Viernes</button>
                        <button class="btn btn-outline-dark" type="button" id="sabado" onclick="toggleSelection('sabado')">Sábado</button>
                        <button class="btn btn-outline-dark" type="button" id="domingo" onclick="toggleSelection('domingo')">Domingo</button>
                    </div>
                </div>

                <!-- Checkbox para "plataforma" -->
                <div class="container">
                    <div class="mb-3">
                        <label for="formGroupExampleInput" class="form-label">¿El producto estará disponible en plataformas?</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="flexCheckplataforma" onclick="toggleContainerplataforma()">
                        <label class="form-check-label" for="flexCheckplataforma">
                            Si
                        </label>
                    </div>
                </div>

                <!-- Contenedor que contiene el campo de texto y los botones plataforma -->
                <div id="containerContent1" style="display:none;">
                    <div id="inputDiv">
                        <input type="text" class="form-control" id="precioplataforma" placeholder="Indica el precio para plataformas">
                    </div>

                    <div class="d-grid gap-2 d-md-block">
                        <button class="btn btn-outline-dark" type="button" id="Uber" onclick="toggleSelectionPlataforma('Uber')">Uber</button>
                        <button class="btn btn-outline-dark" type="button" id="Didi" onclick="toggleSelectionPlataforma('Didi')">Didi</button>
                        <button class="btn btn-outline-dark" type="button" id="Rappi" onclick="toggleSelectionPlataforma('Rappi')">Rappi</button>
                        <button class="btn btn-outline-dark" type="button" id="Deli" onclick="toggleSelectionPlataforma('Deli')">Deli</button>
                    </div>
                </div>

                <!-- Campos ocultos para almacenar los días y plataformas seleccionadas -->
                <input type="hidden" name="DiasSemana" id="diasSeleccionados">
                <input type="hidden" name="Plataformas" id="plataformasSeleccionadas">
                <input type="hidden" name="Fechadisponible" id="fechadisponibleHidden">
                <input type="hidden" name="Precioplataforma" id="precioplataformaHidden">

                <!-- Botones Limpiar y Enviar -->
                <div class="mt-4">
                    <button class="btn btn-danger" type="button" onclick="limpiarFormulario()">Limpiar</button>
                    <button class="btn btn-success" type="button" onclick="enviarFormulario()">Enviar</button>
                </div>
            </div>

        </div>
    </form>

    <script>
        // Función para alternar la selección de los días
        function toggleSelection(dia) {
            var diaButton = document.getElementById(dia);
            var diasSeleccionados = document.getElementById('diasSeleccionados');
            var dias = diasSeleccionados.value.split(',');

            if (dias.includes(dia)) {
                // Si el día ya está seleccionado, lo eliminamos
                dias = dias.filter(d => d !== dia);
                diaButton.classList.remove('btn-primary');
                diaButton.classList.add('btn-outline-dark');
            } else {
                // Si no está seleccionado, lo agregamos
                dias.push(dia);
                diaButton.classList.add('btn-primary');
                diaButton.classList.remove('btn-outline-dark');
            }

            // Actualizamos el valor del campo oculto
            diasSeleccionados.value = dias.join(',');
        }

        // Función para alternar la selección de las plataformas
        function toggleSelectionPlataforma(plataforma) {
            var plataformaButton = document.getElementById(plataforma);
            var plataformasSeleccionadas = document.getElementById('plataformasSeleccionadas');
            var plataformas = plataformasSeleccionadas.value.split(',');

            if (plataformas.includes(plataforma)) {
                // Si la plataforma ya está seleccionada, la eliminamos
                plataformas = plataformas.filter(p => p !== plataforma);
                plataformaButton.classList.remove('btn-primary');
                plataformaButton.classList.add('btn-outline-dark');
            } else {
                // Si no está seleccionada, la agregamos
                plataformas.push(plataforma);
                plataformaButton.classList.add('btn-primary');
                plataformaButton.classList.remove('btn-outline-dark');
            }

            // Actualizamos el valor del campo oculto
            plataformasSeleccionadas.value = plataformas.join(',');
        }

        // Función para actualizar la fecha
        document.getElementById('fechadisponible').addEventListener('change', function() {
            document.getElementById('fechadisponibleHidden').value = this.value;
        });

        // Función para actualizar el precio
        document.getElementById('precioplataforma').addEventListener('change', function() {
            document.getElementById('precioplataformaHidden').value = this.value;
        });

        // Función para enviar el formulario
        function enviarFormulario() {
            var dias = document.getElementById('diasSeleccionados').value;
            var plataformas = document.getElementById('plataformasSeleccionadas').value;
            var fecha = document.getElementById('fechadisponible').value;
            var precio = document.getElementById('precioplataforma').value;

            if (!dias || !plataformas || !fecha || !precio) {
                alert('Por favor completa todos los campos');
                return;
            }

            document.querySelector('form').submit();
        }

        // Función para limpiar el formulario
        function limpiarFormulario() {
            document.getElementById('diasSeleccionados').value = '';
            document.getElementById('plataformasSeleccionadas').value = '';
            document.getElementById('fechadisponibleHidden').value = '';
            document.getElementById('precioplataformaHidden').value = '';
            document.getElementById('fechadisponible').value = '';
            document.getElementById('precioplataforma').value = '';

            // Restaurar los botones de días y plataformas
            var diasButtons = document.querySelectorAll('.btn-outline-dark');
            diasButtons.forEach(function(btn) {
                btn.classList.remove('btn-primary');
                btn.classList.add('btn-outline-dark');
            });
        }
    </script>
</body>
</html>
